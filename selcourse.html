<!DOCTYPE html>
<html>

<head>
    <title>My Syllabus | Selective Course</title>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="shortcut icon" href="image/MYS.ico" />
    <link href="css/login.css" rel="stylesheet">
    <link href="css/course.css" rel="stylesheet">
    <link href="css/loader.css" rel="stylesheet">
</head>

<body onload="myFunction()" style="margin:0;">

    <div id="loader"></div>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand " href="index.html">My Syllabus</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="home.html">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="course.html">Course</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="news.html">News</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        P3TCHZ
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="mycourse.html">My Course</a>
                        <a class="dropdown-item" href="#">Logout</a>
                    </div>
                </li>
            </ul>
            <form class="form-inline my-2 my-lg-0">
                <input class="btn btn-outline-success my-2 my-sm-0" type="button" value="Login" onclick="document.getElementById('loginmodal').style.display='block'"
                    style="width:auto;" />
            </form>
        </div>
    </nav>

    <div style="display:none;" id="myDiv" class="animate-bottom">

        <div id="myview"></div>
        <div id="mycomment"></div>

        <!-- LOGIN -->
        <div id="loginmodal" class="modal">
            <form class="modal-content-login animate" action="/action_page.php">
                <div class="container">
                    <h4 style="text-align: center">Login</h4>
                    <input type="text" placeholder="Email" name="mail" required>
                    <input type="password" placeholder="Password" name="psw" required>
                    <button class="allbutton btn-success" type="submit">Login</button>
                </div>
                <div class="container" style="background-color:#f1f1f1">
                    <button type="button" class="btn btn-danger" onclick="document.getElementById('loginmodal').style.display='none'">Cancel</button>
                    <span class="psw"> <a href="#">Create account</a></span>
                </div>
            </form>
        </div>

    </div>

    <section class="jumbotron text-center">
        <div class="container">
            <h1 class="jumbotron-heading">SELECTIVE COURSE</h1>
            <p class="lead text-muted">ข้อมูลวิชาเลือกของหลักสูตร 60 ภาควิชาวิศวกรรมคอมพิวเตอร์<p>
                    <a href="course.html" class="btn btn-secondary my-2">Main Course</a>
                    <a href="#" class="btn btn-primary my-2">Selective Course</a>
                </p>
        </div>
    </section>

    <div class="album py-5 bg-light">
        <h1 class="text-center jumbotron-heading"></h1>
        <div class="container" id="selcourse">
        </div>
    </div>

    <footer class="container">
        <p class="float-right"><a href="#">Back to top</a></p>
        <p>Create by <a href="https://www.facebook.com/surawit.wiriyasrisuwatthana.7">KAKDEN</a></p>
        <p>Thanks to <a href="https://getbootstrap.com/">Bootstrap</a></p>
    </footer>

</body>

<script>
    $(document).ready(function () {
        $("body").ready(function (event) {
            $.getJSON('https://my-syllabus-api.firebaseio.com/syllabus.json', function (jd, index) {
                var result = '<div class="row">';
                var viewresult = '<div>';
                //var viewcomment = '<div>';
                var j = jd['selCourse'];
                for (i = 0; i < j.length; i++) {
                    result += '<div class="col-md-4">'
                        + '<div class="card mb-4 shadow-sm">'
                        + '<div class="card-body">'
                        + '<div class="card-text text-center">' + '<strong>' + j[i].enName + '</strong>' + '</div>'
                        + '<p class="card-text text-center">' + j[i].thName + '</p>'
                        + '<div class="d-flex justify-content-between align-items-center">'
                        + '<div class="btn-group">'
                        + '<button id="' + "viewbtn" + i + '" type="button" class="btn btn-sm btn-outline-secondary" onclick="fbcomment(),document.getElementById('
                        + "'view" + i + "'" + ').style.display=' + "'block'" + '">' + "View" + '</button>'
                        //+ '<button id="' + "cmbtn" + i + '" type="button" class="btn btn-sm btn-outline-secondary" onclick="document.getElementById('
                        //+ "'comment" + i + "'" + ').style.display=' + "'block'" + '">' + "Comment" + '</button>'
                        + "</div>"
                        + '<strong class="text-primary">' + j[i].id + '</strong>'
                        + "</div>"
                        + "</div>"
                        + "</div>"
                        + "</div>"

                    viewresult += '<div id="view' + i + '" class="modal">'
                        + '<div class="modal-content animate">'
                        + '<div class="modal-header">'
                        + '<h5 class="modal-title ">Selective Course</h5>'
                        + '<button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="document.getElementById('
                        + "'view" + i + "'" + ').style.display=' + "'none'" + '">'
                        + '<span aria-hidden="true">&times;</span>'
                        + '</button>'
                        + '</div>'
                        + '<div class="modal-body">'
                        + '<h5 class="modal-title text-primary "><b>' + j[i].enName + '</b></h5>'
                        + '<p>' + j[i].thName + '</p>'
                        + '<h6>' + "รหัสวิชา: " + j[i].id + '</h6>'
                        + '<p>' + "หน่วยกิต: " + j[i].credit + '</p>'
                        + '<hr>'
                        + '<p><b>' + j[i].enDesc + '</b></p>'
                        + '<p>' + j[i].thDesc + '</p>'
                        + '<p class="fb-comments" data-href="' + 4848 + i + '" data-width="100%" data-numposts="5"></p>'
                        + '</div>'
                        + '<div class="modal-footer">'
                        + '<button type="button" class="btn btn-danger" onclick="document.getElementById('
                        + "'view" + i + "'" + ').style.display=' + "'none'" + '">Close</button>'
                        + '</div>'
                        + '</div>'
                        + '</div>'

                    // viewcomment += '<div id="comment' + i + '" class="modal">'
                    //     + '<div class="modal-content animate">'
                    //     + '<div class="modal-header">'
                    //     + '<h5 class="modal-title ">Facebook Comment</h5>'
                    //     + '<button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="document.getElementById('
                    //     + "'comment" + i + "'" + ').style.display=' + "'none'" + '">'
                    //     + '<span aria-hidden="true">&times;</span>'
                    //     + '</button>'
                    //     + '</div>'
                    //     + '<div class="modal-body">'
                    //     + '<h5 class="modal-title text-primary "><b>' + j[i].enName + '</b></h5>'
                    //     + '<p>' + j[i].thName + '</p>'
                    //     + '<p class="fb-comments" data-href="' + 4848 + i + '" data-width="100%" data-numposts="5"></p>'
                    //     + '</div>'
                    //     + '<div class="modal-footer">'
                    //     + '<button type="button" class="btn btn-danger" onclick="document.getElementById('
                    //     + "'comment" + i + "'" + ').style.display=' + "'none'" + '">Close</button>'
                    //     + '</div>'
                    //     + '</div>'
                    //     + '</div>'
                }
                result += '</div>';
                viewresult += '</div>';
                //viewcomment += '</div>';
                $('#selcourse').html(result);
                $('#myview').html(viewresult);
                //$('#mycomment').html(viewcomment);
            });
        });
    });

</script>
<script>
    function fbcomment() {
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v3.2&appId=2240591592844450&autoLogAppEvents=1';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    }
</script>

<script>
    var time;
    function myFunction() {
        time = setTimeout(showPage, 700);
    }
    function showPage() {
        document.getElementById("loader").style.display = "none";
        document.getElementById("myDiv").style.display = "block";
    }
</script>

</html>